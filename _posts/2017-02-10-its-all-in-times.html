---
layout: post
title: It's all in the times!
date: '2017-02-10T11:53:00.001-08:00'
author: Karteek
tags: 
modified_time: '2017-02-10T11:53:37.684-08:00'
blogger_id: tag:blogger.com,1999:blog-8004810643159823472.post-6466876190261726643
blogger_orig_url: http://www.akyadavilli.xyz/2017/02/its-all-in-times.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Time and its value is very well aware concept in many cultures. But given that I am an Indian who's finding his way in the US, I can tell you that different cultures value time differently. Back home, it has always been seen that if someone says 2-3 minutes, it is understood that it's gonna be about 10-15 minutes, if someone says, it's ready any minute, it's gonna be 5 minutes or so. But, here in US, people want to know if it is going to be 25 minutes or 30 minutes.<br /><br />Now, coming to the technology aspect, the expectations of responsiveness to technology has come down from minutes to seconds to milli, micro and nano seconds. This now being the case, it is very important to understand that - for about 4000 automated reports to generate every month end, taking few hours or may be days will be frowned upon. And rightly so.<br /><br />So, coming back to my comments on my earliest post about <a href="http://www.akyadavilli.xyz/2017/02/hadoop-data-warehouse-data-lake.html" target="_blank">using Hadoop for DW</a>, I did mention that one of the reasons why using Hadoop for DW in its current state may be a bad idea is the reason that Hive, which is widely regarded as Data Warehouse infrastructure on Hadoop stack, isn't fast enough for the kind of queries and expectations people have with Data Warehouse for Reporting needs.<br /><br />So, what does one do? Well, there are options. But, before we get into the technology options. Let's look at some numbers. All of these represent operations and the time it took in different times in nanoseconds. 1 ns = 10^-9 sec or in other words, one billion nanoseconds make 1 second.<br /><br /><style type="text/css"><!--td {border: 1px solid #ccc;}br {mso-data-placement:same-cell;}--></style><br /><table border="1" cellpadding="0" cellspacing="0" dir="ltr" style="border-collapse: collapse; border: none; font-family: arial,sans,sans-serif; font-size: 13px; table-layout: fixed;"><colgroup><col width="178"></col><col width="69"></col><col width="69"></col><col width="69"></col></colgroup><tbody><tr style="height: 21px;"><td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Year&quot;}" style="border-color: rgb(0, 0, 0); font-weight: bold; padding: 2px 3px; vertical-align: bottom;">Year</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:1997}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-color: rgb(0, 0, 0); font-weight: bold; padding: 2px 3px; text-align: right; vertical-align: bottom;">1997</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:2007}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-color: rgb(0, 0, 0); font-weight: bold; padding: 2px 3px; text-align: right; vertical-align: bottom;">2007</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:2017}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); border-top-color: rgb(0, 0, 0); font-weight: bold; padding: 2px 3px; text-align: right; vertical-align: bottom;">2017</td></tr><tr style="height: 21px;"><td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;L1 Cache&quot;}" style="border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; vertical-align: bottom;">L1 Cache reference</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:16}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">16</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:1}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">1</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:1}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">1</td></tr><tr style="height: 21px;"><td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;L2 Cache&quot;}" style="border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; vertical-align: bottom;">L2 Cache reference</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:69}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">69</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:4}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">4</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:4}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">4</td></tr><tr style="height: 21px;"><td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Main Memory Ref&quot;}" style="border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; vertical-align: bottom;">Main Memory Reference</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:124}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">124</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:100}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">100</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:100}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">100</td></tr><tr style="height: 21px;"><td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;SSD Random read&quot;}" style="border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; vertical-align: bottom;">SSD Random read</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:18000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">18000</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:17000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">17000</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:16000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">16000</td></tr><tr style="height: 21px;"><td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Disk Seek&quot;}" style="border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; vertical-align: bottom;">Disk Seek</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:12000000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">12000000</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:6000000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">6000000</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:3000000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">3000000</td></tr><tr style="height: 21px;"><td data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Network packet roundtrip \nfrom California to Netherlands&quot;}" style="border-bottom-color: rgb(0, 0, 0); border-left-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; vertical-align: bottom;">Network packet round trip <br />from California to Netherlands</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:150000000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">150000000</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:150000000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">150000000</td><td data-sheets-value="{&quot;1&quot;:3,&quot;3&quot;:150000000}" style="border-bottom-color: rgb(0, 0, 0); border-right-color: rgb(0, 0, 0); padding: 2px 3px; text-align: right; vertical-align: bottom;">150000000</td></tr></tbody></table><br />So, in theory, that main memory reference is 30,000 times faster than a disk seek operation. You might say, I cannot put all of my data warehouse in the main memory of one machine. But, what I am going to write next is going to clarify what a bunch of researchers from UC, Berkeley presented in this <a href="http://www-bcf.usc.edu/~minlanyu/teach/csci599-fall12/papers/nsdi_spark.pdf" target="_blank">whitepaper</a>, the concept of Resilient Distributed Datasets.<br /><br />In simple terms, the concept of RDDs (short for Resilient Distributed Datasets) is a collection of read only objects representing partitions of the same dataset that are distributed across a cluster in a fault tolerant manner.<br /><br />Apache Spark has been built on the basis of the concept of RDDs. More on Spark in a future post!</div>